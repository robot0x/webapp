/*! diaodiao 李彦峰 2017-03-09 */
var eleMenuOn=null,eleListBox=$("#listBox"),tempList=$("#tempChoList").html(),clMenuOn="cho_link_on";String.prototype.temp=function(a){return this.replace(/\$\w+\$/gi,function(b){var c=a[b.replace(/\$/g,"")];return c+""=="undefined"?"":c})};var eleMenus=$("#choMenu a").bind("click",function(a){var b=this.href.split("?")[1];if(history.pushState&&b&&!$(this).hasClass(clMenuOn)){eleMenuOn&&eleMenuOn.removeClass("cho_link_on"),eleMenuOn=$(this).addClass("cho_link_on"),eleListBox.html('<div class="cho_loading"></div>'),$.ajax({url:this.href,dataType:"json",success:function(a){var b="";$.isArray(a)&&$.each(a,function(a,c){b+=tempList.temp(c)}),eleListBox.html(b||'<div class="tc cr pt30">丫的没数据啊！</div>')},error:function(){eleListBox.html('<div class="tc cr pt30">数据获取失败！</div>')}});var c="上海3月开盘项目汇总-"+$(this).text().replace(/\d+$/,"");document.title=c,a&&/\d/.test(a.button)&&history.pushState({title:c},c,location.href.split("?")[0]+"?"+b)}return!1}),fnHashTrigger=function(a){var b=location.href.split("?")[1],c=a||null;"undefined"==typeof b?(c=eleMenus.get(0))&&(history.replaceState(null,document.title,location.href.split("#")[0]+"?"+c.href.split("?")[1])+location.hash,fnHashTrigger(c)):(eleMenus.each(function(){null===c&&this.href.split("?")[1]===b&&(c=this)}),c?$(c).trigger("click"):(history.replaceState(null,document.title,location.href.split("?")[0]),fnHashTrigger()))};history.pushState&&(window.addEventListener("popstate",function(){fnHashTrigger()}),fnHashTrigger());