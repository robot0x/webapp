/*! diaodiao 李彦峰 2015-11-05 */
!function(){window.$clamp=function(a,b){function c(a,b){return k.getComputedStyle||(k.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(a,b,c){return c.toUpperCase()})),a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null},this}),k.getComputedStyle(a,null).getPropertyValue(b)}function d(b){b=b||a.clientHeight;var c=f(a);return Math.max(Math.floor(b/c),0)}function e(b){return f(a)*b}function f(a){var b=c(a,"line-height");return"normal"==b&&(b=1.2*parseInt(c(a,"font-size"))),parseInt(b)}function g(b){return b.lastChild.children&&0<b.lastChild.children.length?g(Array.prototype.slice.call(b.children).pop()):b.lastChild&&b.lastChild.nodeValue&&""!=b.lastChild.nodeValue&&b.lastChild.nodeValue!=l.truncationChar?b.lastChild:(b.lastChild.parentNode.removeChild(b.lastChild),g(a))}function h(b,c){if(c){var d=b.nodeValue.replace(l.truncationChar,"");if(r||(u=0<t.length?t.shift():"",r=d.split(u)),1<r.length?(s=r.pop(),i(b,r.join(u))):r=null,j&&(b.nodeValue=b.nodeValue.replace(l.truncationChar,""),a.innerHTML=b.nodeValue+" "+j.innerHTML+l.truncationChar),r){if(a.clientHeight<=c){if(!(0<=t.length&&""!=u))return a.innerHTML;i(b,r.join(u)+u+s),r=null}}else""==u&&(i(b,""),b=g(a),t=l.splitOnChars.slice(0),u=t[0],s=r=null);if(!l.animate)return h(b,c);setTimeout(function(){h(b,c)},!0===l.animate?10:l.animate)}}function i(a,b){a.nodeValue=b+l.truncationChar}b=b||{};var j,k=window,l={clamp:b.clamp||2,useNativeClamp:"undefined"!=typeof b.useNativeClamp?b.useNativeClamp:!0,splitOnChars:b.splitOnChars||[".","-","–","—"," "],animate:b.animate||!1,truncationChar:b.truncationChar||"…",truncationHTML:b.truncationHTML},m=a.style,n=a.innerHTML,o="undefined"!=typeof a.style.webkitLineClamp,p=l.clamp,q=p.indexOf&&(-1<p.indexOf("px")||-1<p.indexOf("em"));l.truncationHTML&&(j=document.createElement("span"),j.innerHTML=l.truncationHTML);var r,s,t=l.splitOnChars.slice(0),u=t[0];"auto"==p?p=d():q&&(p=d(parseInt(p)));var v;return o&&l.useNativeClamp?(m.overflow="hidden",m.textOverflow="ellipsis",m.webkitBoxOrient="vertical",m.display="-webkit-box",m.webkitLineClamp=p,q&&(m.height=l.clamp+"px")):(m=e(p),m<=a.clientHeight&&(v=h(g(a),m))),{original:n,clamped:v}}}();